---
title: "Anonymous tracking"
sidebar_label: "Anonymous tracking"
sidebar_position: 2
description: "Track events without collecting user identifiers, IP addresses, or cookies to support privacy compliance and user consent requirements."
keywords: ["anonymous tracking", "privacy", "GDPR", "cookieless", "user identifiers", "PII"]
date: "2026-01-19"
---

Snowplow enables you to track events without collecting personally identifiable information (PII). This is useful when you need to respect user privacy preferences, comply with regulations like GDPR, or track events before a user has provided consent.

By default, Snowplow collects several identifiers with each event. Anonymous tracking lets you disable some or all of these identifiers at tracking time, while pipeline enrichments let you pseudonymize or mask identifiers after collection.

## Anonymous tracking options

There are two approaches to limiting PII in your Snowplow data:

1. **Anonymous tracking at the tracker level**: Prevent collection of identifiers before events are sent to the Collector. This is configured in your tracker initialization.

2. **Pseudonymization at the pipeline level**: Hash or mask identifiers during enrichment, after events reach your pipeline. This uses the [PII pseudonymization enrichment](/docs/pipeline/enrichments/available-enrichments/pii-pseudonymization-enrichment/index.md) and [IP anonymization enrichment](/docs/pipeline/enrichments/available-enrichments/ip-anonymization-enrichment/index.md).

You can use these approaches independently or together, depending on your privacy requirements.

## Affected event properties

Anonymous tracking affects the following identifiers in your events:

### Client-side identifiers

These identifiers are generated and stored by the tracker on the user's device:

| Property | Description | Affected by |
|----------|-------------|-------------|
| `domain_userid` | UUID generated by the web tracker, stored in a first-party cookie | Client-side anonymization |
| `domain_sessionid` | UUID for the current session | Client-side anonymization |
| `domain_sessionidx` | Count of sessions for this user | Client-side anonymization |
| `userId` in [session entity](/docs/events/ootb-data/user-and-session-identification/index.md) | UUID for the user in the client session context | Client-side anonymization |
| `sessionId` in session entity | UUID for the session | Client-side anonymization |
| `user_id` | Business user identifier set via `setUserId` | Client-side anonymization |

### Server-side identifiers

These identifiers are set by the Snowplow Collector when it receives events:

| Property | Description | Affected by |
|----------|-------------|-------------|
| `network_userid` | UUID set by the Collector in a server-side cookie | Server-side anonymization |
| `user_ipaddress` | IP address captured by the Collector | Server-side anonymization, IP anonymization enrichment |

### Mobile-specific identifiers

On mobile platforms, additional identifiers can be anonymized:

| Property | Description | Platform |
|----------|-------------|----------|
| `appleIdfa` | Advertising identifier (IDFA) | iOS |
| `appleIdfv` | Vendor identifier (IDFV) | iOS |
| `androidIdfa` | Advertising identifier | Android |

These appear in the [mobile platform entity](/docs/events/ootb-data/device-and-browser/index.md#mobile-entity).

## Anonymization levels

Snowplow trackers support several levels of anonymization, allowing you to balance privacy requirements with analytics needs.

### Full client-side anonymization

Disables all client-side user and session identifiers. No user or session information is tracked. Events can still be collected, but cannot be grouped by user or session.

**Use case**: Maximum privacy when no consent has been given.

### Client-side anonymization with session tracking

Disables user identifiers but preserves session tracking. You can analyze session-level behavior without identifying individual users.

**Use case**: Track anonymous sessions while respecting privacy.

### Server-side anonymization

Adds the `SP-Anonymous` HTTP header to requests, which instructs the Collector to:

- Not set the `network_userid` cookie
- Not capture the user's IP address

This can be combined with client-side anonymization for full cookieless tracking.

**Use case**: Avoid setting any cookies and capturing IP addresses.

:::note[Collector version requirement]
Server-side anonymization requires Snowplow Stream Collector 2.1.0 or later.
:::

## Web tracking and cookies

The JavaScript tracker uses cookies to persist user and session information. Understanding how cookies work helps you configure anonymous tracking correctly.

### First-party cookies

The tracker sets two first-party cookies by default:

| Cookie | Purpose | Contains |
|--------|---------|----------|
| `_sp_id` | User identification | `domain_userid`, session ID, visit count, timestamps |
| `_sp_ses` | Session management | Used to detect session boundaries |

These cookies are controlled by the `stateStorageStrategy` configuration option. Setting it to `none` prevents all cookie and local storage use.

### Server-side cookie

The Collector sets a `sp` cookie containing the `network_userid`. This cookie is a first-party or third-party cookie depending on whether your Collector is on the same domain as your website.

When the `SP-Anonymous` header is present, the Collector does not set or read this cookie.

### Configuring cookieless tracking

For fully cookieless web tracking, configure the tracker with:

```javascript
anonymousTracking: { withServerAnonymisation: true },
stateStorageStrategy: 'none',
eventMethod: 'post'
```

This configuration:
- Prevents the tracker from storing data in cookies or local storage
- Adds the `SP-Anonymous` header to prevent server-side cookie and IP capture
- Uses POST requests (required for the anonymous header)

For more details on cookie behavior, see [Cookies and local storage](/docs/sources/web-trackers/cookies-and-local-storage/index.md).

## Pipeline enrichments for anonymization

In addition to anonymous tracking at the tracker level, you can pseudonymize or mask identifiers during enrichment.

### PII pseudonymization enrichment

The [PII pseudonymization enrichment](/docs/pipeline/enrichments/available-enrichments/pii-pseudonymization-enrichment/index.md) hashes specified fields using algorithms like SHA-256. This replaces identifiable values with consistent hashes, allowing you to join data without exposing the original values.

Fields that can be pseudonymized include:

- `user_id`
- `user_ipaddress`
- Fields within self-describing events and entities

The enrichment supports an `anonymousOnly` mode (available since Enrich version 5.3.0) that only pseudonymizes fields when the `SP-Anonymous` header is present. This lets you keep full identifiers for consented users while anonymizing non-consented users.

### IP anonymization enrichment

The [IP anonymization enrichment](/docs/pipeline/enrichments/available-enrichments/ip-anonymization-enrichment/index.md) masks portions of IP addresses by replacing octets (IPv4) or segments (IPv6) with "x" characters.

For example, `192.168.1.100` can become `192.168.x.x` or `192.x.x.x` depending on configuration.

This enrichment runs after the IP lookup enrichment, so geolocation data is derived from the full IP address before masking occurs.

## Toggling anonymous tracking

You can enable or disable anonymous tracking during a page visit or app session. This is useful for:

- Starting with anonymous tracking until a user accepts a cookie banner
- Enabling full tracking when a user logs in

On the web, use `enableAnonymousTracking()` and `disableAnonymousTracking()`. On mobile, set `userAnonymisation` in the tracker configuration.

When toggling anonymous tracking, be aware that:
- Enabling anonymous tracking clears user identifiers from outgoing events but does not delete existing cookies
- Use `clearUserData()` on the web to also delete stored identifiers
- On mobile, toggling anonymization starts a new session

## Tracker-specific documentation

For implementation details, see the anonymous tracking documentation for each tracker:

- [Web tracker anonymous tracking](/docs/sources/web-trackers/anonymous-tracking/index.md)
- [Mobile tracker anonymous tracking](/docs/sources/mobile-trackers/anonymous-tracking/index.md)
- [React Native tracker anonymous tracking](/docs/sources/react-native-tracker/anonymous-tracking/index.md)
