---
title: "Mobile"
sidebar_position: 200
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { DbtCongfigurationPage } from '@site/src/components/JsonSchemaValidator';
import { dump } from 'js-yaml';
import ReactMarkdown from 'react-markdown';
import Admonition from '@theme/Admonition';
import DbtSchemas from "@site/docs/reusable/dbt-schemas/_index.md";
import CodeBlock from '@theme/CodeBlock';
import { SchemaSetter } from '@site/src/components/DbtSchemaSelector';

export const printSchemaVariables = (manifestSchema, scratchSchema, derivedSchema) => {
  return(
    <>
    <CodeBlock language="yaml">
    {`models:
  snowplow_mobile:
    base:
      manifest:
        +schema: ${manifestSchema}
      scratch:
        +schema: ${scratchSchema}
    optional_modules:
      app_errors:
        +schema: ${derivedSchema}
        scratch:
          +schema: ${scratchSchema}
    screen_views:
      +schema: ${derivedSchema}
      scratch:
        +schema: ${scratchSchema}
    sessions:
      +schema: ${derivedSchema}
      scratch:
        +schema: ${scratchSchema}
    user_mapping:
      +schema: ${derivedSchema}
    users:
      +schema: ${derivedSchema}
      scratch:
        +schema: ${scratchSchema}`}
        </CodeBlock>
    </>
  )
}

export const printYamlVariables = (data) => {
  return(
    <>
      <h4>Project Variables:</h4>
      <CodeBlock language="yaml">{dump({vars: {"snowplow_mobile": data}}, { flowLevel: 3 })}</CodeBlock>
    </>
  )
}

export const MyMdxComponent = () => {
  const schemaName = 'dbtMobile';
  const versions = ['0.7.4'];
  const label = 'dbt mobile version';
  const output = printYamlVariables;
  const group = 'true';
  const dbtConfigOutput = DbtCongfigurationPage({
    schemaName,
    versions,
    label,
    output,
    group
  });
  if (dbtConfigOutput[0]) {
    return (
      <div>
        {dbtConfigOutput[1]} {/* SelectSchemaVersion */}
        <br/>
        <h2 id="Variables">Package Configuration Variables</h2>
        <p>This package utilizes a set of variables that are configured to recommended values for optimal performance of the models. Depending on your use case, you might want to override these values by adding to your <code>dbt_project.yml</code> file.</p>
        <Admonition type="note">
          All variables in Snowplow packages start with `snowplow__` but we have removed these in the below tables for brevity.
        </Admonition>
        <br/>
        {dbtConfigOutput[2]} {/* JsonToTable */}
        <br/>
        <br/>
        <h2 id="Generator">Config Generator</h2>
        <p>You can use the below inputs to generate the code that you need to place into your <code>dbt_project.yml</code> file to configure the package as you require. Any values not specified will use their default values from the package.</p>
        {dbtConfigOutput[3]} {/* JsonSchemaGenerator */}
        <br/>
        <h2 id="Schemas">Output Schemas</h2>
        <DbtSchemas/>
        <SchemaSetter output={printSchemaVariables}/>
      </div>
    );
  } else {
    return(
      <div>
        {dbtConfigOutput[1]} {/* SelectSchemaVersion */}
      </div>
    );
  }
};

<MyMdxComponent/>

export const toc = [
{
  "value": "Package Configuration Variables",
  "id": "Variables",
  "level": 2,
  "children": []
},
{
  "value": "Config Generator",
  "id": "Generator",
  "level": 2,
  "children": []
},
{
  "value": "Output Schemas",
  "id": "Schemas",
  "level": 2,
  "children": []
},
];
