---
title: "Media tracking (v2)"
date: "2025-03-21"
---

```mdx-code-block
import Media from "@site/docs/reusable/media/_index.md"
```

Media tracking has [multiple versions](/docs/sources/trackers/javascript-trackers/web-tracker/tracking-events/media/index.md) of schema available.
This document is for version 2 of the schemas; tracker versions earlier than v0.3.0 [only support v1 tracking](/docs/sources/trackers/roku-tracker/media-tracking/v1/index.md).


## Configuration

Most tracking of [Audio](https://developer.roku.com/en-au/docs/references/scenegraph/media-playback-nodes/audio.md) and [Video](https://developer.roku.com/en-au/docs/references/scenegraph/media-playback-nodes/video.md) nodes is automatic, so configuration is minimal.

For backwards compatibility with [v1 media tracking](/docs/sources/trackers/roku-tracker/media-tracking/v1/index.md), most options will accept either `roAssociativeArray` format in the `enableMediaTracking` call as long as `version` is specified as `2`.

The accepted options include:

| Attribute | Type | Description | Required? |
| --- | --- | --- | --- |
| `media` / `audio` / `video` | Audio / Video | Audio/Video node to be tracked | yes |
| `version` | Integer | Tracking schema version to use; should be set to 2 | yes |
| `id` | UUID | A unique ID to use for the media `session` entity to group all tracked events | no; generated by tracker if not provided |
| `label` / `options.label` | String | An identifiable custom label sent with the event in the `media_player` entity | no |
| `sessions` | boolean | Whether to attach the media `session` entity on tracked events | no; defaults to `true` |
| `pings` | boolean | Whether to periodically generate media `ping_event`s while content is playing | no; defaults to `true` |
| `pingInterval` / `options.positionInterval` | Integer | Interval in seconds in which `ping_event`s should be reported | no, defaults to `30` seconds |
| `boundaries` / `options.boundaries` | Integer[] | Percentage boundaries in playback for which `percentage_progress_event`s will be sent | no, defaults toÂ `[25, 50, 75]` |
| `captureEvents` / `options.captureEvents` | String[] | Types of events to capture. If specified, the event names should not have the `_event` suffix | no, defaults to all events |
| `context` / `entities` | SelfDescribingJSON[] | Array of custom entities to include with all generated events | no |

## Migrating from v1

If you are migrating from the v1 tracking, v2 has compatibility options to make the change easier.

For backwards compatibility with the earlier tracking API, you can use `enableVideoTracking` instead of `enableMediaTracking`, and pass the node via the `video` option instead of `media`.
For symmetry, `enableAudioTracking` and `audio` will work as well; the tracking will work with any combination of these method and option names regardless of node type, as long as `version: 2` is specified.
You can also specifically opt into version 1 by passing `version: 1`.

The additional options differ by version; but version 2 will accept the options from version 1 if it can't find the newer equivalent settings.

| v2 Attribute | v1 Fallback | Type | Description |
| --- | --- | --- | --- |
| `media` / `audio` / `video` | `media` / `audio` / `video` | Audio / Video | Audio/Video node to be tracked |
| `version` | `version` | Integer | Tracking schema version to use; should be set to 2 |
| `id` | N/A | UUID | A unique ID to use for the media `session` entity to group all tracked events |
| `label` | `options.label` | String | An identifiable custom label sent with the event in the `media_player` entity |
| `sessions` | Default enabled | boolean | Whether to attach the media `session` entity on tracked events |
| `pings` | Default enabled | boolean | Whether to periodically generate media `ping_event`s while content is playing |
| `pingInterval` | `options.positionInterval` | Integer | Interval in seconds in which `ping_event`s should be reported |
| `boundaries` | `options.boundaries` | Integer[] | Percentage boundaries in playback for which `percentage_progress_event`s will be sent |
| `captureEvents` | `options.captureEvents` | String[] | Types of events to capture. If specified, the event names should not have the `_event` suffix |
| `context` / `entities` | `context` | SelfDescribingJSON[] | Array of custom entities to include with all generated events |


## Media Player Events

```mdx-code-block
<Media tracker="roku" />
```
